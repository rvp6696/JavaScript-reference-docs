<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <button onclick="home()"> Home </button>
        <button onclick="about()"> About Us </button>
        <button onclick="contact()"> Contact Us </button>
        <button onclick="product()"> My Product </button>
        <button onclick="city()"> City </button>
        <button onclick="blog()"> Blog List </button>
        <button onclick="comment()"> Comments </button>
        <button onclick="album()"> Album's </button>
        <button onclick="todos()"> Todos </button>
        <button onclick="user()"> User </button>
    </header>
    <section id="apidata"> </section>
    <footer> 
        <p> Javascript API fetch(), .then(), .then(), catch() Example</p>
    </footer>

    <script>
        let home = () => {
            fetch("home.html")
            .then(xyz => xyz.text() )   // .then() is a promise function
            .then(filedata => {
                document.getElementById("apidata").innerHTML = filedata
            })
            
            .catch(error =>{
                alert("Error, try again later !")
            })
        }

        let about = () => {
            fetch("about.html")
            .then(xyz => xyz.text() )   // .then() is a promise function
            .then(filedata => {
                document.getElementById("apidata").innerHTML = filedata
            })
            
            .catch(error =>{
                alert("Error, try again later !")
            })
        }

        let contact = () => {
            fetch("contact.html")
            .then(xyz => xyz.text() )   // .then() is a promise function
            .then(filedata => {
                document.getElementById("apidata").innerHTML = filedata
            })
            
            .catch(error =>{
                alert("Error, try again later !")
            })
        }

        let product = () => {
            fetch("product.html")
            .then(xyz => xyz.text() )   // .then() is a promise function
            .then(filedata => {
                document.getElementById("apidata").innerHTML = filedata
            })
            
            .catch(error =>{
                alert("Error, try again later !")
            })
        }

        let city = () =>{
            fetch("city.json")                                       // JSON means Javascript object notation
            .then(abc => abc.json())
            .then(filedata=> {
                let result = "<h1> Available City List </h1>"
                filedata.map((value,index) => {
                    result += `<p class="myn1"> ${value} </p>`
                })
                document.getElementById("apidata").innerHTML = result
            } )
        }

        let blog = () => {
            fetch("https://jsonplaceholder.typicode.com/posts")
            .then(response => response.json())
            .then( blogArray => {
                let result = ""
                blogArray.map((blog,index) => {
                    result += `<div class="mytwo">`
                    result += `<h4> ${blog.title} </h4>`
                    result += `<p> ${blog.body} <p>`
                    result +=`</div>`
                })
                document.getElementById("apidata").innerHTML = result
            })
        }

        let comment = () => {
            fetch("https://jsonplaceholder.typicode.com/comments")
            .then(response => response.json())
            .then( comments => {
                let result = ""
                comments.map((data,index) => {
                    result += `<div class="mythree">`
                    result += `<h4> ${data.name} </h4>`
                    result += `<small> ${data.email} </small>`
                    result += `<p> ${data.body} <p>`
                    result +=`</div>`
                })
                document.getElementById("apidata").innerHTML = result
            })  
        }

        let album = () => {
            fetch("https://jsonplaceholder.typicode.com/albums")
            .then(response => response.json())
            .then( albumdata => {
                let result = ""
                albumdata.map((album,index) => {
                    result += `<div class="myfour">`
                    result += `<h4> ${album.title} </h4>`
                    result +=`</div>`
                })
                document.getElementById("apidata").innerHTML = result
            })  
        }

        let todos = () => {
            fetch("https://jsonplaceholder.typicode.com/todos")
            .then(response => response.json())
            .then( todosarray => {
                let result = ""
                todosarray.map((data,index) => {
                    result += `<div class="myfive">`
                    result += `<h4> ${data.title} </h4>`
                    result += `<p> ${data.completed} <p>`
                    result +=`</div>`
                })
                document.getElementById("apidata").innerHTML = result
            })  
        }

        let user = () => {
            fetch("https://jsonplaceholder.typicode.com/users")
            .then(response => response.json())
            .then( userdetail => {
                let result = ""
                userdetail.map((data,index) => {
                    result += `<div class="mysix">`
                    result += `<h4> ${data.name} </h4>`
                    result += `<p> ${data.email} <p>`
                    result += `<p> ${data.address.city} <p>`
                    result += `<p> ${data.address.zipcode} <p>`
                    result += `<p> ${data.address.geo.lat} <p>`
                    result += `<p> ${data.phone} <p>`
                    result += `<p> ${data.website} <p>`
                    result += `<p> ${data.company.name} <p>`
                    result +=`</div>`
                })
                document.getElementById("apidata").innerHTML = result
            })  
        }


    </script>
</body>
</html>